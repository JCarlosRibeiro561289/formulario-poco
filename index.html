<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cadastro de Poço</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">

  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("SUA_PUBLIC_KEY_AQUI");
    })();
  </script>
</head>
<body>

<div class="container">

  <div class="progress">
    <div id="progressBar"></div>
  </div>

  <!-- ETAPA 1 -->
  <section class="step active">
    <h2>Cliente</h2>
    <input id="cliente" placeholder="Cliente">
    <input id="documento" placeholder="Documento">
    <input id="endereco" placeholder="Endereço do Poço">
    <button onclick="nextStep()">Avançar</button>
  </section>

  <!-- ETAPA 2 -->
  <section class="step">
    <h2>Perfuração</h2>
    <input id="empresa" placeholder="Empresa Perfuradora">
    <input id="encarregado" placeholder="Encarregado">
    <input type="date" id="dataInicio">
    <input type="date" id="dataFim">
    <select id="metodo">
      <option>Rotativa</option>
      <option>Pneumática</option>
      <option>Ambos</option>
    </select>
    <button onclick="prevStep()">Voltar</button>
    <button onclick="nextStep()">Avançar</button>
  </section>

  <!-- ETAPA 3 -->
  <section class="step">
    <h2>Dados do Poço</h2>
    <input type="number" id="profundidade" placeholder="Profundidade (m)">
    <input type="number" id="polFinal" placeholder="Polegada Final">
    <button onclick="prevStep()">Voltar</button>
    <button onclick="nextStep()">Avançar</button>
  </section>

  <!-- ETAPA 4 -->
  <section class="step">
    <h2>Revestimento Sanitário</h2>
    <select id="temSanitario" onchange="toggleSanitario()">
      <option value="nao">Não possui</option>
      <option value="sim">Possui</option>
    </select>

    <div id="sanitarioCampos" class="hidden">
      <select id="sanitarioTipo">
        <option>PVC</option>
        <option>Aço</option>
        <option>Inox</option>
      </select>
      <input type="number" id="sanitarioPol" placeholder="Polegadas">
      <input type="number" id="sanitarioComp" placeholder="Comprimento (m)">
    </div>

    <button onclick="prevStep()">Voltar</button>
    <button onclick="nextStep()">Avançar</button>
  </section>

  <!-- ETAPA 5 -->
  <section class="step">
    <h2>Revestimento do Poço</h2>
    <select id="tipoRevPoco" onchange="controlarFluxoRevestimento()">
      <option value="">Selecione</option>
      <option value="parcial">Parcial</option>
      <option value="total">Total</option>
    </select>

    <select id="materialRev">
      <option>PVC</option>
      <option>Aço</option>
      <option>Inox</option>
    </select>

    <input type="number" id="polRev" placeholder="Polegadas">

    <div id="filtrosArea" class="hidden">
      <h4>Lançamento de Filtros</h4>
      <input type="number" id="filtroInicio" placeholder="Início (m)">
      <input type="number" id="filtroFim" placeholder="Fim (m)">
      <button type="button" onclick="lancarFiltro()">Lançar Filtro</button>
      <ul id="listaFiltros"></ul>
    </div>

    <button onclick="prevStep()">Voltar</button>
    <button onclick="nextStep()">Avançar</button>
  </section>

  <!-- ETAPA 6 -->
  <section class="step">
    <h2>Teste de Vazão</h2>
    <input type="number" id="vazaoPoco" placeholder="Vazão do Poço (m³/h)">
    <input type="number" id="vazaoBomba" placeholder="Vazão da Bomba (m³/h)">
    <input type="number" id="posBomba" placeholder="Posição da Bomba (m)">
    <input type="number" id="ne" placeholder="NE (m)">
    <input type="number" id="nd" placeholder="ND (m)">
    <button onclick="prevStep()">Voltar</button>
    <button onclick="validarTesteVazao()">Avançar</button>
  </section>

  <!-- ETAPA 7 -->
  <section class="step">
    <h2>Geologia</h2>
    <textarea id="geologia" placeholder="Geologia"></textarea>
    <textarea id="fraturas" placeholder="Fraturas"></textarea>
    <button onclick="prevStep()">Voltar</button>
    <button onclick="gerarResumo()">Gerar Resumo</button>
  </section>

  <!-- RESUMO -->
  <section class="step" id="resumo">
    <div class="resumo-header">
      <button onclick="voltarEtapaResumo()">← Voltar etapa</button>
    </div>
    <div id="resumoConteudo"></div>
  </section>

</div>

<script src="script.js"></script>
</body>
</html>
